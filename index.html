<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Be My Valentineüåöüíñ</title>

  <style>
    :root{
      --heartMask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cpath d='M32 58s-5-3.4-10.7-8.4C13 42.6 6 35.6 6 26.2 6 18.2 12 12 20 12c5.1 0 9.2 2.6 12 6.2C34.8 14.6 38.9 12 44 12c8 0 14 6.2 14 14.2 0 9.4-7 16.4-15.3 23.4C37 54.6 32 58 32 58z'/%3E%3C/svg%3E");
    }

    /* Fondo con imagen + blur (sin afectar el contenido) */
    body{
      margin:0;
      height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      font-family:sans-serif;
      text-align:center;
      overflow:hidden;
      position:relative;
    }
    body::before{
      content:"";
      position:absolute;
      inset:-20px; /* un poquito m√°s grande para que el blur no deje bordes */
      background-image:url("Cachetonaa.jpeg"); /* imagen de fondo (s√∫bela al repo) */
      background-size:cover;
      background-position:center;
      filter: blur(8px);
      transform: scale(1.06);
      opacity:0.95;
      z-index:0;
    }
    body::after{
      /* capa suave rosada encima para que se vea m√°s ‚Äúrom√°ntico‚Äù */
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(135deg, rgba(255,154,158,.55), rgba(250,208,196,.55));
      z-index:1;
    }

    /* ===== Corazones flotantes con foto ===== */
    #heartsLayer{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:2; /* detr√°s del cuadro blanco */
    }

    
    .photo-heart{
      position:absolute;
      width:70px;
      height:70px;
      opacity:0.95;

      /* La foto que ir√° dentro del coraz√≥n */
      background-image: var(--img);
      background-size: 85%;
      background-repeat: no-repeat;
      background-position: 50% 40%;

      /* Forma de coraz√≥n (mask SVG) */
      -webkit-mask-image: var(--heartMask);
      -webkit-mask-size: cover;
      -webkit-mask-repeat: no-repeat;
      -webkit-mask-position: center;

      mask-image: var(--heartMask);
      mask-size: cover;
      mask-repeat: no-repeat;
      mask-position: center;

      /* üëá Contorno + sombras (no afectan la foto) */
      filter:
        drop-shadow(0 0 6px rgba(255,255,255,0.85))
        drop-shadow(0 0 14px rgba(255,105,180,0.75))
        drop-shadow(0 12px 26px rgba(0,0,0,0.45));

      will-change: transform, filter, opacity;
      transform: translateZ(0);

      /* 1) flotar  2) brillo */
      animation: floatUp linear forwards, glowPulse 1.4s ease-in-out infinite;
    }

    /* Glow extra "tipo sticker" alrededor, sin tocar la imagen */
    .photo-heart::before{
      content:"";
      position:absolute;
      inset:-3px;
      background: rgba(255,255,255,0.92);
      -webkit-mask-image: var(--heartMask);
      -webkit-mask-size: cover;
      -webkit-mask-repeat: no-repeat;
      -webkit-mask-position: center;

      mask-image: var(--heartMask);
      mask-size: cover;
      mask-repeat: no-repeat;
      mask-position: center;

      opacity:0.22;
      filter: blur(0.6px) drop-shadow(0 0 10px rgba(255,105,180,0.7));
      pointer-events:none;
      z-index:-1;
    }

    @keyframes floatUp{
      from{
        transform: translateY(110vh) translateX(var(--x0)) rotate(var(--r0));
      }
      to{
        transform: translateY(-120px) translateX(var(--x1)) rotate(var(--r1));
      }
    }

    /* ===== Tarjeta principal ===== */
    .card{
      position:relative;
      z-index:3; /* encima de los corazones */
      background:white;
      padding:30px;
      border-radius:20px;
      box-shadow:0 10px 25px rgba(0,0,0,.2);
      max-width:420px;
      width:min(92vw,420px);
    }
    .foto{
      width:160px;
      height:auto;
      border-radius:18px;
      margin:0 auto 14px;
      display:block;
      box-shadow:0 10px 20px rgba(0,0,0,.15);
    }
    button{
      padding:10px 20px;
      font-size:18px;
      margin:10px;
      border:none;
      border-radius:20px;
      cursor:pointer;
    }
    .yes{ background:#ff4d6d; color:white; }
    .no{ background:#ddd; position:relative; }
  
    /* ===== PANTALLA FINAL ===== */
  #finalScreen{
    position:fixed;
    inset:0;
    background:#000;
    display:flex;
    justify-content:center;
    align-items:center;
    opacity:0;
    pointer-events:none;
    z-index:9999;
    transition: opacity 0.6s ease;
  }
  #finalScreen.active{
    opacity:1;
    pointer-events:all;
  }

  .final-card{
    width:min(92vw,520px);
    border-radius:26px;
    padding:26px 22px;
    background: rgba(255, 255, 255, 0.06);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 105, 180, 0.65);
    box-shadow:
      0 0 0 6px rgba(255,105,180,.08),
      0 20px 60px rgba(0,0,0,.65),
      0 0 35px rgba(255,105,180,.25);
    color:#fff;
    text-align:center;
  }
  .final-card h2{
    margin:0 0 10px;
    font-size:28px;
    letter-spacing:0.5px;
    color:#ff7abf;
    text-shadow: 0 0 18px rgba(255,105,180,.35);
  }
  .final-card p{
    margin:0;
    font-size:18px;
    line-height:1.45;
    color: rgba(255,255,255,0.92);
  }
  .final-card .hint{
    margin-top:14px;
    font-size:13px;
    color: rgba(255,255,255,0.55);
  }

    /* === Explosi√≥n de texto + part√≠culas (corazones/rosas/formas) === */
    #particlesLayer{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:9999;
    }
    .floatParticle{
      position:absolute;
      will-change: transform, opacity;
      user-select:none;
      font-size:22px;
      opacity:0.95;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.35));
    }
    .shapeParticle{
      width:14px;
      height:14px;
      border-radius:4px;
      background:rgba(255,255,255,.9);
      box-shadow:0 6px 14px rgba(0,0,0,.35);
    }
    .shapeCircle{ border-radius:999px; }
    .shapeDiamond{ transform: rotate(45deg); }
    .shapeTriangle{
      width:0;height:0;
      border-left:9px solid transparent;
      border-right:9px solid transparent;
      border-bottom:16px solid rgba(255,255,255,.9);
      background:transparent;
      box-shadow:none;
    }
    @keyframes flyOut{
      0%{ transform: translate3d(0,0,0) rotate(0deg) scale(1); opacity:1; }
      100%{ transform: translate3d(var(--dx), var(--dy), 0) rotate(var(--dr)) scale(var(--ds)); opacity:0; }
    }
    @keyframes screenShake{
      0%{ transform: translate3d(0,0,0); }
      20%{ transform: translate3d(-6px, 3px, 0); }
      40%{ transform: translate3d(7px, -5px, 0); }
      60%{ transform: translate3d(-4px, -3px, 0); }
      80%{ transform: translate3d(6px, 6px, 0); }
      100%{ transform: translate3d(0,0,0); }
    }
    .shake{
      animation: screenShake 0.25s linear infinite;
    }
    /* Texto final en spans para explotar */
    #finalText .char{
      display:inline-block;
      white-space:pre;
      will-change: transform, opacity;
    }

</style>
</head>

<body>

  <!-- Corazones flotantes -->
  <div id="heartsLayer" aria-hidden="true"></div>

  <div class="card">
    <!-- Imagen del cuadro (si quieres quitarla, borra esta l√≠nea) -->
    <img class="foto" src="ajjajaja-removebg-preview.png" alt="foto" />

    <h1>Be My Valentineüåöüíñ</h1>
    <p id="nombre">Porfavor cachetona</p>

    <button class="yes" onclick="aceptar()">S√≠ üíò</button>
    <button class="no" id="noBtn" onmouseover="mover()">No üí©</button>

    <p id="mensaje" style="display:none;font-size:20px;color:#ff4d6d;font-weight:bold;">
      TE AMO CACHETONA üòç
    </p>
  </div>

  <script>
    const NOMBRE_DE_TU_NOVIA = "Cachetona";
    const FINAL_TEXT = "Te amo mucho mi cachetonaa, gracias por ser la mejor novia del mundo mundial, espero que te guste esta sorpresa que hice con mucho amor para ti, eres lo mejor que me ha pasado en la vida y quiero seguir sorprendi√©ndote cada d√≠a m√°s, te amo con todo mi corazon de vdd cachetona, y quiero seguir demostrandotelo con cada dia que pasemos juntos, en vdd empece a hacer esto antes de ayer pero me esforce mucho para que quedara bonito y espero que te guste, gracias por ser tan linda novia, y tan linda persona, no solo conmigo, tambien con los que te rodean, TE AMO TE AMO ‚ù§";
    document.getElementById("nombre").innerText = "Hola " + NOMBRE_DE_TU_NOVIA + "üåö";

               function aceptar(){

  // üéµ M√∫sica rom√°ntica
  const music = document.getElementById("bgMusic");
  music.volume = 0;
  music.play().catch(()=>{});

  let vol = 0;
  const fade = setInterval(() => {
    if (vol < 0.25) {
      vol += 0.01;
      music.volume = vol;
    } else {
      clearInterval(fade);
    }
  }, 200);

  document.getElementById("mensaje").style.display="block";
  document.getElementById("noBtn").style.display="none";

  // En 5 segundos: pantalla negra + cuadro rosa + texto
  setTimeout(() => {
    // detener corazones para que quede limpio
    try{ clearInterval(heartInterval); }catch(e){}
    document.getElementById("heartsLayer").style.opacity = "0";
    document.getElementById("finalText").innerText = FINAL_TEXT;
    document.getElementById("finalScreen").classList.add("active");
    prepareFinalTextSpans();
    scheduleFinalExplosion();
  }, 5000);
}

    function mover(){
      let btn=document.getElementById("noBtn");
      btn.style.position="absolute";
      btn.style.top=(Math.random()*220)+"px";
      btn.style.left=(Math.random()*220)+"px";
    }

    // ===== Corazones flotantes con la foto de la ni√±a =====
    // 1) Sube al repo una imagen llamada: nina.png (PNG recomendado)
    // 2) Si tu archivo tiene otro nombre, c√°mbialo aqu√≠:
    const FOTO_CORAZON = "ajjajaja-removebg-preview.png";

    const layer = document.getElementById("heartsLayer");

    function spawnHeart(){
      const h = document.createElement("div");
      h.className = "photo-heart";
      h.style.setProperty("--img", `url('${FOTO_CORAZON}')`);

      // tama√±o
      const size = 90 + Math.random()*80; // 90..170
      h.style.width = size + "px";
      h.style.height = size + "px";

      // posici√≥n inicial
      h.style.left = (Math.random()*100) + "vw";

      // deriva horizontal
      const x0 = (Math.random()*60 - 30) + "px";
      const x1 = (Math.random()*120 - 60) + "px";
      h.style.setProperty("--x0", x0);
      h.style.setProperty("--x1", x1);

      // rotaci√≥n
      const r0 = (Math.random()*20 - 10) + "deg";
      const r1 = (Math.random()*30 - 15) + "deg";
      h.style.setProperty("--r0", r0);
      h.style.setProperty("--r1", r1);

      // duraci√≥n
      const dur = 5 + Math.random()*7; // 5..12s
      h.style.animationDuration = dur + "s";

      // opacidad
      h.style.opacity = (0.78 + Math.random()*0.18).toFixed(2);

      layer.appendChild(h);
      setTimeout(() => h.remove(), dur*1000 + 200);
    }

    // ‚Äúburst‚Äù inicial
    for(let i=0;i<12;i++){
      setTimeout(spawnHeart, i*120);
    }
    // continuo
    const heartInterval = setInterval(spawnHeart, 280);
  
    // ===== Explosi√≥n del texto en corazones/rosas/formas =====
    let finalExplosionTimer = null;
    let chaosTimer = null;

    function prepareFinalTextSpans(){
      const el = document.getElementById("finalText");
      if(!el) return;

      // Evitar re-preparar
      if(el.querySelector(".char")) return;

      const text = el.innerText || "";
      el.innerHTML = "";
      for(const ch of text){
        const span = document.createElement("span");
        span.className = "char";
        span.textContent = ch;
        el.appendChild(span);
      }
    }

    function rand(min, max){ return Math.random() * (max - min) + min; }

    function spawnEmojiParticle(x, y, emoji){
      const layer = document.getElementById("particlesLayer");
      if(!layer) return;

      const p = document.createElement("span");
      p.className = "floatParticle";
      p.textContent = emoji;

      p.style.left = x + "px";
      p.style.top  = y + "px";

      const dx = rand(-260, 260) + "px";
      const dy = rand(-320, -40) + "px";
      const dr = rand(-540, 540) + "deg";
      const ds = rand(0.7, 1.7);

      p.style.setProperty("--dx", dx);
      p.style.setProperty("--dy", dy);
      p.style.setProperty("--dr", dr);
      p.style.setProperty("--ds", ds);

      const dur = rand(900, 1800);
      p.style.animation = `flyOut ${dur}ms cubic-bezier(.2,.9,.2,1) forwards`;

      layer.appendChild(p);
      setTimeout(() => p.remove(), dur + 200);
    }

    function spawnShapeParticle(x, y){
      const layer = document.getElementById("particlesLayer");
      if(!layer) return;

      const kind = Math.random();
      const p = document.createElement("div");
      p.className = "floatParticle shapeParticle";

      if(kind < 0.33) p.classList.add("shapeCircle");
      else if(kind < 0.66) p.classList.add("shapeDiamond");
      else {
        // tri√°ngulo
        p.classList.remove("shapeParticle");
        p.classList.add("shapeTriangle");
      }

      // Colores suaves (no depende de im√°genes)
      const colors = [
        "rgba(255,255,255,.9)",
        "rgba(255,105,180,.9)",
        "rgba(255,215,0,.9)",
        "rgba(173,216,230,.9)",
        "rgba(144,238,144,.9)"
      ];
      if(!p.classList.contains("shapeTriangle")){
        p.style.background = colors[(Math.random()*colors.length)|0];
      }else{
        p.style.borderBottomColor = colors[(Math.random()*colors.length)|0];
      }

      p.style.left = x + "px";
      p.style.top  = y + "px";

      const dx = rand(-320, 320) + "px";
      const dy = rand(-360, -80) + "px";
      const dr = rand(-720, 720) + "deg";
      const ds = rand(0.6, 1.8);

      p.style.setProperty("--dx", dx);
      p.style.setProperty("--dy", dy);
      p.style.setProperty("--dr", dr);
      p.style.setProperty("--ds", ds);

      const dur = rand(900, 2000);
      p.style.animation = `flyOut ${dur}ms cubic-bezier(.2,.9,.2,1) forwards`;

      layer.appendChild(p);
      setTimeout(() => p.remove(), dur + 200);
    }

    function burstFromElement(el){
      const rect = el.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;

      const emojis = ["üíñ","üíó","üíò","‚ù§Ô∏è","üíï","üåπ","‚ú®","üíû"];
      for(let i=0;i<220;i++){
        const x = cx + rand(-rect.width/2, rect.width/2);
        const y = cy + rand(-rect.height/2, rect.height/2);
        if(Math.random() < 0.82){
          spawnEmojiParticle(x, y, emojis[(Math.random()*emojis.length)|0]);
        }else{
          spawnShapeParticle(x, y);
        }
      }
    }

    function explodeTextToHearts(){
      const textEl = document.getElementById("finalText");
      if(!textEl) return;

      // temblor √©pico
      document.body.classList.add("shake");

      // Explosi√≥n del texto: cada letra sale volando
      const chars = Array.from(textEl.querySelectorAll(".char"));
      const rect = textEl.getBoundingClientRect();
      const baseX = rect.left;
      const baseY = rect.top;

      const emojis = ["üíñ","üíó","üíò","‚ù§Ô∏è","üíï","üåπ","‚ú®","üíû"];

      chars.forEach((chEl) => {
        const r = chEl.getBoundingClientRect();
        const x = r.left + r.width/2;
        const y = r.top + r.height/2;

        // Part√≠culas por letra
        const n = 3 + ((Math.random()*3)|0);
        for(let i=0;i<n;i++){
          if(Math.random() < 0.78){
            spawnEmojiParticle(x, y, emojis[(Math.random()*emojis.length)|0]);
          }else{
            spawnShapeParticle(x, y);
          }
        }

        // Animaci√≥n de la letra
        const dx = rand(-280, 280) + "px";
        const dy = rand(-320, -60) + "px";
        const dr = rand(-540, 540) + "deg";
        const ds = rand(0.2, 1.2);

        chEl.style.setProperty("--dx", dx);
        chEl.style.setProperty("--dy", dy);
        chEl.style.setProperty("--dr", dr);
        chEl.style.setProperty("--ds", ds);
        chEl.style.animation = `flyOut ${rand(900, 1600)}ms cubic-bezier(.2,.9,.2,1) forwards`;
      });

      // Explosi√≥n extra desde el cuadro
      burstFromElement(document.getElementById("finalBox") || textEl);

      // Tormenta ca√≥tica por toda la pantalla durante unos segundos
      const durationMs = 7000;
      const start = Date.now();

      chaosTimer = setInterval(() => {
        const now = Date.now();
        if(now - start > durationMs){
          clearInterval(chaosTimer);
          chaosTimer = null;
          setTimeout(() => document.body.classList.remove("shake"), 300);
          return;
        }
        const w = window.innerWidth;
        const h = window.innerHeight;
        const emojis2 = ["üíñ","üíó","üíò","‚ù§Ô∏è","üíï","üåπ","‚ú®","üíû"];

        // densidad por tick
        for(let i=0;i<20;i++){
          const x = rand(0, w);
          const y = rand(0, h);
          if(Math.random() < 0.85){
            spawnEmojiParticle(x, y, emojis2[(Math.random()*emojis2.length)|0]);
          }else{
            spawnShapeParticle(x, y);
          }
        }
      }, 60);

      // Al final, vaciar el texto (opcional) para que se vea que "se desintegr√≥"
      setTimeout(() => { if(textEl) textEl.innerHTML = ""; }, 1600);
    }

    function scheduleFinalExplosion(){
      // limpia timers previos
      if(finalExplosionTimer) clearTimeout(finalExplosionTimer);
      finalExplosionTimer = setTimeout(() => {
        prepareFinalTextSpans();
        explodeTextToHearts();
      }, 20000); // 20 segundos despu√©s de que aparezca el cuadro final
    }

  </script>


               <!-- Pantalla final -->
<div id="finalScreen" role="dialog" aria-modal="true" aria-label="Mensaje final">
  <div class="final-card">
    <h2>üíñ</h2>
    <p id="finalText">...</p>
    <div class="hint">CHICHI</div>
  </div>
</div>

  <div id="particlesLayer"></div>

<!-- üéµ M√∫sica de fondo -->
<audio id="bgMusic" loop>
  <source src="alban_gogh-quot-crescendo-quot-483243.mp3" type="audio/mpeg">
</audio>

</body>
</html>
